{
    "commands": [
        {
            "description": "Create boolean variable for is logs option selected",
            "run": [
                "is_logs_option_selected=true;",
                "logs_params=$(jq -r \".subtype.datasources[0].telemetries[0].params\" $APP_JSON);"
            ]
        },
        {
            "description": "Is logs option selected?",
            "run": [
                "if [ \"$logs_params\" = [] ]; then",
                    "is_logs_option_selected=false;",
                    "echo \"Logs option was not selected\";",
                "else",
                    "echo \"Logs option was selected\";",
                "fi;"
            ]
        },
        {
            "description": "Append Helm set for Logz.io logs listener to helm_sets string",
            "run": [
                "if $is_logs_option_selected; then",
                    "echo \"Getting Logz.io logs listener...\";",
                    "logzio_logs_listener_param=$(find_param \"logs\" \"$logs_params\" \"logzioLogsListener\");",
                    "value=$(echo \"$logzio_logs_listener_param\" | jq -r \".value\");",
                    "echo \"Creating Helm set...\";",
                    "helm_set=\"--set 'secrets.logzioLogsListener=$value'\";",
                    "helm_sets+=\" $helm_set\";",
                "fi;"
            ]
        },
        {
            "description": "Append Helm set for Logz.io logs token to helm_sets string",
            "run": [
                "if $is_logs_option_selected; then",
                    "echo \"Getting Logz.io logs token...\";",
                    "logzio_logs_token_param=$(find_param \"logs\" \"$logs_params\" \"logzioLogsToken\");",
                    "value=$(echo \"$logzio_logs_token_param\" | jq -r \".value\");",
                    "echo \"Creating Helm set...\";",
                    "helm_set=\"--set 'secrets.logzioLogsToken=$value'\";",
                    "helm_sets+=\" $helm_set\";",
                "fi;"
            ]
        }
    ]
}