{
    "commands": [
        {
            "description": "Append helm_sets string with Logz.io metrics listener Helm set",
            "run": [
                "echo \"Getting Logz.io metrics listener...\";",
                "logzio_metrics_listener_param=$(find_param \"metrics\" \"$metrics_params\" \"logzioMetricsListener\");",
                "value=$(echo \"$logzio_metrics_listener_param\" | jq -r \".value\");",
                "echo \"Creating Logz.io metrics listener Helm set...\";",
                "helm_set=\"--set 'secrets.ListenerHost=$value'\";",
                "helm_sets+=\" $helm_set\";"
            ]
        },
        {
            "description": "Append helm_sets string with Logz.io metrics token Helm set",
            "run": [
                "echo \"Getting Logz.io metrics token...\";",
                "logzio_metrics_token_param=$(find_param \"metrics\" \"$metrics_params\" \"logzioMetricsToken\");",
                "value=$(echo \"$logzio_metrics_token_param\" | jq -r \".value\");",
                "echo \"Creating Logz.io metrics token Helm set...\";",
                "helm_set=\"--set 'secrets.MetricsToken=$value'\";",
                "helm_sets+=\" $helm_set\";"
            ]
        },
        {
            "description": "Append helm_sets string with metrics environment Helm set",
            "run": [
                "echo \"Getting metrics environment...\";",
                "metrics_env_param=$(find_param \"metrics\" \"$metrics_params\" \"metricsEnv\");",
                "value=$(echo \"$metrics_env_param\" | jq -r \".value\");",
                "echo \"Creating metrics environment Helm set...\";",
                "helm_set=\"--set 'secrets.p8s_logzio_name=$value'\";",
                "helm_sets+=\" $helm_set\";"
            ]
        }
    ]
}