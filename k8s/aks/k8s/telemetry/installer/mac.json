{
    "commands": [
        {
            "description": "Create string variable for Helm sets",
            "run": [
                "helm_sets=\"\";",
                "general_params=$(jq -r \".subtype.datasources[0].params\" $APP_JSON);"
            ]
        },
        {
            "description": "Get isTaint value",
            "run": [
                "echo \"Getting isTaint...\";",
                "is_taint_param=$(find_param \"datasources\" \"$general_params\" \"isTaint\");",
                "is_taint=$(echo \"$is_taint_param\" | jq -r \".value\");"
            ]
        },
        {
            "description": "Run logs commands",
            "run": [
                "echo \"Running logs commands...\";",
                "run_commands \"$logs\";"
            ]
        },
        {
            "description": "Run metrics commands",
            "run": [
                "echo \"Running metrics commands...\";",
                "run_commands \"$metrics\";"
            ]
        },
        {
            "description": "Run Helm install",
            "run": [
                "echo \"Running Helm install...\";",
                "helm install $helm_sets logzio-otel-k8s-metrics logzio-helm/logzio-otel-k8s-metrics;",
                "echo \"The Helm chart was installed successfully\";"
            ]
        },
        {
            "description": "Remove temp files",
            "run": [
                "echo \"Deleting temp files...\";",
                "rm -f sources.xml;",
                "rm -f filters.xml;"
            ]
        }
    ]
}